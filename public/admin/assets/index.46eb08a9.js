import{e as _,r as g,C as se,d as de,t as ve,j as h,o as ce,c as pe,ah as fe,G as ge,a3 as he,Q as me,au as Ce}from"./index.2fe2a2a6.js";import{a as P,i as ye,b as Oe}from"./index.b99af012.js";var v=globalThis&&globalThis.__assign||function(){return v=Object.assign||function(s){for(var u,n=1,d=arguments.length;n<d;n++){u=arguments[n];for(var a in u)Object.prototype.hasOwnProperty.call(u,a)&&(s[a]=u[a])}return s},v.apply(this,arguments)},K=globalThis&&globalThis.__read||function(s,u){var n=typeof Symbol=="function"&&s[Symbol.iterator];if(!n)return s;var d=n.call(s),a,c=[],r;try{for(;(u===void 0||u-- >0)&&!(a=d.next()).done;)c.push(a.value)}catch(x){r={error:x}}finally{try{a&&!a.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}return c},_e="Autocomplete_"+Math.random(),Q=P.Option,Pe={defaultActiveFirstOption:!0,triggerElement:h(Ce,{})};function be(s,u){var n,d=g.exports.useContext(se),a=d.getPrefixCls,c=d.componentConfig,r=de(s,Pe,c==null?void 0:c.AutoComplete),x=r.style,U=r.className,w=r.children,p=r.data,$=r.defaultValue,q=r.value,z=r.placeholder,J=r.error,W=r.disabled,X=r.strict,Y=r.allowClear,Z=r.loading,ee=r.defaultActiveFirstOption,A=r.triggerElement,re=r.getPopupContainer,oe=r.dropdownRender,le=r.virtualListProps,E=r.onFocus,S=r.onBlur,f=r.onChange,F=r.onSearch,V=r.onSelect,B=r.onPressEnter,l=r.inputProps,T=K(ve("",{defaultValue:$,value:q}),2),N=T[0],j=T[1],k=K(g.exports.useState(!1),2),te=k[0],G=k[1],O=g.exports.useRef(null),m=g.exports.useRef(null),M=a("autocomplete"),ne="filterOption"in r?r.filterOption:function(e,o){return X?o.props.value.indexOf(e)>-1:o.props.value.toLowerCase().indexOf(e.toLowerCase())>-1},I=_.Children.toArray(w),L=null;I.length&&(ye(I[0])||Oe(I[0]))?L=w:p&&p.length&&(L=p.map(function(e,o){if(g.exports.isValidElement(e))return e;if(typeof e=="string")return h(Q,{value:e,children:e},o);if(typeof e=="object"){var t=e,i=t.value,y=t.name;return h(Q,{value:i,extra:ce(e,["value","name"]),children:y},o)}return null})),g.exports.useImperativeHandle(u,function(){return O.current});var C=typeof A=="function"?A({value:N}):A,ae=_.cloneElement(C,v(v(v({ref:function(e){O.current=e;var o=C.ref;typeof o=="function"&&o(e)},className:pe(""+M,l&&l.className,U),style:x,value:N,placeholder:z,error:J,status:r.status,disabled:W,allowClear:Y},l),fe(r)),{suffix:Z?h(ge,{}):((n=C==null?void 0:C.type)===null||n===void 0?void 0:n.displayName)==="Search"?void 0:(l==null?void 0:l.suffix)||h("i",{}),onFocus:function(e){var o;G(!0),E==null||E(e),(o=l==null?void 0:l.onFocus)===null||o===void 0||o.call(l,e)},onBlur:function(e){var o;G(!1),S==null||S(e),(o=l==null?void 0:l.onBlur)===null||o===void 0||o.call(l,e)},onKeyDown:function(e){var o,t,i,y,R,D=e.keyCode||e.which;if((t=(o=m.current)===null||o===void 0?void 0:o.hotkeyHandler)===null||t===void 0||t.call(o,e),D===he.code&&B){var H=void 0;m.current&&(H=m.current.getOptionInfoByValue(m.current.activeOptionValue)),B(e,H)}D===me.code&&((y=(i=O.current)===null||i===void 0?void 0:i.blur)===null||y===void 0||y.call(i)),(R=l==null?void 0:l.onKeyDown)===null||R===void 0||R.call(l,e)},onChange:function(e,o){var t;j(e),F==null||F(e),f==null||f(e),(t=l==null?void 0:l.onChange)===null||t===void 0||t.call(l,e,o)}})),ie=v(v({popupVisible:!!(te&&((p==null?void 0:p.length)||_.Children.count(w)))},r.triggerProps),{trigger:"focus",className:[M+"-popup"].concat(r.triggerProps&&r.triggerProps.className)}),ue={triggerElement:ae,value:_e,inputValue:N,defaultActiveFirstOption:ee,triggerProps:ie,getPopupContainer:re,dropdownRender:oe,filterOption:ne,virtualListProps:le,notFoundContent:null,onChange:function(e,o){var t,i;j(e),f==null||f(e,o),e&&(V==null||V(e,o)),(i=(t=O.current)===null||t===void 0?void 0:t.blur)===null||i===void 0||i.call(t)}};return h(P,{...v({ref:m},ue),children:L})}var xe=_.forwardRef(be),b=xe;b.displayName="AutoComplete";b.Option=P.Option;b.OptGroup=P.OptGroup;var Ee=b;export{Ee as A};
