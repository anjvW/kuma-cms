import{r as t,a as i,d as p,j as o,B as c,k as f}from"./index.cde1c8e5.js";import{S as g}from"./index.85949d5d.js";import"./index.6ca229a5.js";import{C as h}from"./index.b641deea.js";import{r as k}from"./index.6604517d.js";function C(){const[d,r]=t.exports.useState([]),[n,u]=t.exports.useState(!1),[s,m]=t.exports.useState(10),a=async()=>{u(!0);const e=await k();e.code===0?r((e==null?void 0:e.data)||[]):r([]),u(!1)};return t.exports.useEffect(()=>{a();const e=setInterval(()=>{a()},s*1e3);return()=>{clearInterval(e)}},[s]),i(h,{children:[i(p,{children:[o(g,{prefix:"\u5237\u65B0\u65F6\u95F4",placeholder:"\u9009\u62E9\u5237\u65B0\u65F6\u95F4",options:[{label:"3\u79D2",value:3},{label:"5\u79D2",value:5},{label:"10\u79D2",value:10},{label:"30\u79D2",value:30},{label:"60\u79D2",value:60}],defaultValue:10,onChange:m},"autoRefreshTime"),o(c,{type:"primary",icon:n?o(f,{}):null,disabled:n,onClick:a,children:"\u5237\u65B0"},"refresh"),o(c,{type:"primary",onClick:()=>{const e=document.createElement("a"),l=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).token:void 0;e.href=`/api/log/run/download?token=${l}`,document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:"\u65E5\u5FD7\u4E0B\u8F7D"},"download")]}),o("ol",{style:{height:"70vh",overflow:"auto",backgroundColor:"#f5f5f5"},children:d.map((e,l)=>o("li",{children:e},l))})]})}export{C as default};
