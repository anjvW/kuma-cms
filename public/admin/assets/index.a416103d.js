import{r as t,a as o,d as h,j as l,B as d,k as C}from"./index.87488f60.js";import{S as p}from"./index.41d7cc91.js";import"./index.6699c789.js";import{C as v}from"./index.979e3255.js";import{r as b}from"./index.d3135f12.js";function E(){const[f,n]=t.exports.useState([]),[r,s]=t.exports.useState(!1),[i,m]=t.exports.useState(10),[c,g]=t.exports.useState(),u=async()=>{s(!0);const e=await b(c);e.code===0?n((e==null?void 0:e.data)||[]):n([]),s(!1)};return t.exports.useEffect(()=>{u();const e=setInterval(()=>{u()},i*1e3);return()=>{clearInterval(e)}},[i,c]),o(v,{children:[o(h,{children:[l(p,{prefix:"\u5237\u65B0\u65F6\u95F4",placeholder:"\u9009\u62E9\u5237\u65B0\u65F6\u95F4",options:[{label:"3\u79D2",value:3},{label:"5\u79D2",value:5},{label:"10\u79D2",value:10},{label:"30\u79D2",value:30},{label:"60\u79D2",value:60}],defaultValue:10,onChange:m},"autoRefreshTime"),l(p,{prefix:"\u65E5\u5FD7\u884C\u6570",placeholder:"\u9009\u62E9\u65E5\u5FD7\u663E\u793A\u884C\u6570",options:[{label:"5\u884C",value:5},{label:"10\u884C",value:10},{label:"20\u884C",value:20},{label:"50\u884C",value:50},{label:"100\u884C",value:100}],allowClear:!0,onChange:g},"line"),l(d,{type:"primary",icon:r?l(C,{}):null,disabled:r,onClick:u,children:"\u5237\u65B0"},"refresh"),l(d,{type:"primary",onClick:()=>{const e=document.createElement("a"),a=localStorage.getItem("token")?JSON.parse(localStorage.getItem("token")).token:void 0;e.href=`/api/log/run/download?token=${a}`,document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:"\u65E5\u5FD7\u4E0B\u8F7D"},"download")]}),l("ol",{style:{height:"70vh",overflow:"auto",backgroundColor:"#f5f5f5",padding:"0"},children:f.map((e,a)=>o("li",{style:{listStyle:"none"},children:[o("span",{children:[a+1,"\xA0\xA0\xA0\xA0"]}),e]},a))})]})}export{E as default};
