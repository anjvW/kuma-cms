import{h as u,am as n,r as o,j as e,B as l,a6 as h,ao as m,ap as g}from"./index.ae7ab947.js";import{C as y}from"./index.3c94fb9e.js";function x(){return u.post("/api/setting",{})}function B(t){return u.post("/api/setting/update",t)}const{Row:C,Col:S}=m;function L(){const[t]=n.useForm(),[d,i]=o.exports.useState(!1),[p,r]=o.exports.useState(!1);async function c(){i(!0);const a=await x();t.setFieldValue("theme",a.data.theme),i(!1)}function f(){t.validate().then(async a=>{r(!0);try{const s=await B({theme:a.theme});s.code===0&&g.success(s.message)}catch{}finally{r(!1)}}).catch(a=>{console.log(a)})}return o.exports.useEffect(()=>{c()},[]),e(y,{actions:[e(l,{type:"primary",loading:d,onClick:c,children:"\u5237\u65B0"},"reload"),e(l,{type:"primary",loading:p,onClick:f,children:"\u4FDD\u5B58"},"update")],children:e(n,{form:t,children:e(C,{children:e(S,{span:4,children:e(n.Item,{label:"\u4E3B\u9898",field:"theme",children:e(h,{})})})})})})}export{L as default};
