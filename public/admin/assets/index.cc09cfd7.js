import{R as pe,o as Er,c as ke,ao as St,r as c,j as x,C as Pr,d as tt,s as Or,aA as nt,k as at,H as ot,D as Ur,aB as it,a as er,l as qe,b as He,U as Tt,aC as wr,ac as Et,F as Sr,as as lt,G as Pt,aw as Nt,a3 as Mr,a1 as At,i as ut,ad as Rt,J as Dt,t as Ht,X as kr,aD as Vt,ai as Mt,S as kt,aE as $r,aF as Hr,aG as Lt,E as st,aH as Ft,aI as gr,at as jt,u as Kt,Q as Bt,aj as zr,L as Ut,K as $t,m as zt}from"./index.f064b022.js";import{T as Gt}from"./index.9863f45e.js";var Lr=globalThis&&globalThis.__assign||function(){return Lr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Lr.apply(this,arguments)},Wt=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};function Yt(e,n){var r=e.prefixCls,t=e.label,a=Wt(e,["prefixCls","label"]);return pe.createElement("li",Lr({ref:n,className:r+"-group-title"},Er(a,["_key","children","isSelectOptGroup"])),t)}var Xt=pe.forwardRef(Yt),ct=Xt;ct.__ARCO_SELECT_OPTGROUP__=!0;var Jt=ct,dr=globalThis&&globalThis.__assign||function(){return dr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},dr.apply(this,arguments)},Qt=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};function qt(e,n){var r,t,a=e.style,o=e.className,u=e.wrapperClassName,i=e.disabled,O=e.prefixCls,f=e.rtl,s=e.value,w=e.children,z=e._isMultipleMode,V=e._isUserCreatedOption,ie=e._isUserCreatingOption,m=e._valueActive,K=e._valueSelect,G=e._onMouseEnter,re=e._onMouseLeave,W=e._onClick,J=Qt(e,["style","className","wrapperClassName","disabled","prefixCls","rtl","value","children","_isMultipleMode","_isUserCreatedOption","_isUserCreatingOption","_valueActive","_valueSelect","_onMouseEnter","_onMouseLeave","_onClick"]),te="value"in e?s:""+w,R="children"in e?w:""+s,ne=z?K.indexOf(te)!==-1:K===te,$=dr({style:a,className:ke(O+"-option",(r={},r[O+"-option-selected"]=ne,r[O+"-option-disabled"]=i,r[O+"-option-hover"]=te===m,r[O+"-option-empty"]=!R&&R!==0||typeof R=="string"&&/^\s*$/.test(R),r[O+"-option-rtl"]=f,r),o),onMouseEnter:function(g){G&&G(te),J.onMouseEnter&&J.onMouseEnter(g)},onMouseLeave:function(g){re==null||re(),J.onMouseLeave&&J.onMouseLeave(g)},onClick:function(g){W&&W(te,i),J.onClick&&J.onClick(g)}},Er(J,["_key","extra","isSelectOption","onClick","onMouseEnter","onMouseLeave"])),_={ref:n,role:"option","aria-selected":ne};return V&&Object.assign(_,{"data-user-created":!0}),ie&&Object.assign(_,{"data-user-creating":!0}),z?pe.createElement("li",dr({},_,{className:ke(O+"-option-wrapper",(t={},t[O+"-option-wrapper-selected"]=ne,t[O+"-option-wrapper-disabled"]=i,t),u)}),pe.createElement(St,{"aria-hidden":"true",className:O+"-checkbox",checked:ne,disabled:i,onChange:$.onClick}),pe.createElement("span",dr({},$),R)):pe.createElement("li",dr({},_,$),R)}var Zt=pe.forwardRef(qt),ft=Zt;ft.__ARCO_SELECT_OPTION__=!0;var dt=ft,Gr=function(e){return JSON.stringify({code:e.code,ctrl:!!e.ctrl,shift:!!e.shift,alt:!!e.alt,meta:!!e.meta})};function vt(e){var n={};return e.forEach(function(r,t){t=typeof t=="number"?{code:t}:t,n[Gr(t)]=r}),function(r){var t=Gr({code:r.keyCode||r.which,ctrl:!!r.ctrlKey,shift:!!r.shiftKey,alt:!!r.altKey,meta:!!r.metaKey}),a=n[t];a&&(r.stopPropagation(),a(r)===!1&&r.preventDefault())}}var Vr=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o};function en(e){var n,r=e.prefixCls,t=e.style,a=e.children,o=e.direction,u=e.disabled,i=e.droppable,O=i===void 0?!0:i,f=e.onDrop,s=e.onDragStart,w=e.onDragEnd,z=e.onDragOver,V=e.onDragLeave,ie=c.exports.useRef(null),m=c.exports.useRef(null),K=Vr(c.exports.useState("none"),2),G=K[0],re=K[1],W=Vr(c.exports.useState(!1),2),J=W[0],te=W[1],R=Vr(c.exports.useState(null),2),ne=R[0],$=R[1];return c.exports.useEffect(function(){return function(){m.current&&clearTimeout(m.current)}},[]),c.exports.useEffect(function(){G==="dragged"&&(m.current=setTimeout(function(){return re("none")},1e3))},[G]),x("li",{draggable:!0,ref:ie,style:t,className:ke(r+"-item",(n={},n[r+"-item-"+G]=G!=="none",n[r+"-item-gap-"+ne]=ne,n[r+"-item-disabled"]=u,n[r+"-item-dragover"]=J,n)),onDragStart:function(_){_.stopPropagation(),re("dragging");try{_.dataTransfer.setData("text/plain","")}catch{}s&&s(_)},onDragEnd:function(_){_.stopPropagation(),te(!1),re("dragged"),w&&w(_)},onDragOver:function(_){if(O){_.stopPropagation(),_.preventDefault();var g=ie.current.getBoundingClientRect();$(o==="vertical"?_.pageY>window.pageYOffset+g.top+g.height/2?"bottom":"top":_.pageX>window.pageXOffset+g.left+g.width/2?"right":"left"),te(!0),z&&z(_)}},onDragLeave:function(_){O&&(_.stopPropagation(),te(!1),V&&V(_))},onDrop:function(_){O&&(_.stopPropagation(),_.preventDefault(),te(!1),$(null),re("none"),f&&f(_,ne))},children:a})}var rn=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o};function tn(e){var n=c.exports.useContext(Pr).getPrefixCls,r=n("draggable"),t=e.className,a=e.children,o=e.direction,u=o===void 0?"vertical":o,i=e.onIndexChange,O=e.itemWrapperStyle,f=rn(c.exports.useState(null),2),s=f[0],w=f[1];return x("div",{className:ke(r,t),children:pe.Children.map(a,function(z,V){return x(en,{style:O,prefixCls:r,direction:u,onDragStart:function(){return w(V)},onDragEnd:function(){return w(null)},onDrop:function(ie,m){var K=s,G=m==="left"||m==="top"?V:V+1;i&&K!==G&&i(G,K)},children:z})})})}var ir=globalThis&&globalThis.__assign||function(){return ir=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},ir.apply(this,arguments)},yr=globalThis&&globalThis.__awaiter||function(e,n,r,t){function a(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function i(s){try{f(t.next(s))}catch(w){u(w)}}function O(s){try{f(t.throw(s))}catch(w){u(w)}}function f(s){s.done?o(s.value):a(s.value).then(i,O)}f((t=t.apply(e,n||[])).next())})},br=globalThis&&globalThis.__generator||function(e,n){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},t,a,o,u;return u={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function i(f){return function(s){return O([f,s])}}function O(f){if(t)throw new TypeError("Generator is already executing.");for(;r;)try{if(t=1,a&&(o=f[0]&2?a.return:f[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,f[1])).done)return o;switch(a=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){r.label=f[1];break}if(f[0]===6&&r.label<o[1]){r.label=o[1],o=f;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(f);break}o[2]&&r.ops.pop(),r.trys.pop();continue}f=n.call(e,r)}catch(s){f=[6,s],a=0}finally{t=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},nn=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r},sr=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o},Wr=globalThis&&globalThis.__spreadArray||function(e,n,r){if(r||arguments.length===2)for(var t=0,a=n.length,o;t<a;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return e.concat(o||Array.prototype.slice.call(n))},Fr=300,an="__input_"+Math.random().toFixed(10).slice(2),xr=function(e){return e==null},Cr=function(e){e.target.tagName!=="INPUT"&&e.preventDefault()},Yr=function(e){return qe(e)?e.map(function(n){return He(n)?ir(ir({},n),{label:"label"in n?n.label:n.value,value:n.value,closable:n.closable}):{label:n,value:n}}):[]},on=function(e){var n=c.exports.useRef(0),r=c.exports.useRef(e.length);return c.exports.useEffect(function(){n.current=e.length===0&&r.current>0?Fr:0,r.current=e.length},[e]),n},Xr=function(e){var n=e.prefixCls,r=e.children,t=e.animation;return t?x(Tt,{component:"div",className:n+"-inner",children:r}):x("div",{className:n+"-inner",children:r})},ln={animation:!0,validate:function(e,n){return e&&n.every(function(r){return r.value!==e})}};function un(e,n){var r,t,a=this,o=c.exports.useContext(Pr),u=o.getPrefixCls,i=o.size,O=o.componentConfig,f=o.rtl,s=tt(e,ln,O==null?void 0:O.InputTag),w=s.className,z=s.style,V=s.placeholder,ie=s.error,m=s.disabled,K=s.readOnly,G=s.allowClear,re=s.autoFocus,W=s.labelInValue,J=s.disableInput,te=s.animation,R=s.saveOnBlur,ne=s.dragToSort,$=s.icon,_=s.prefix,g=s.suffix,Q=s.addBefore,T=s.addAfter,le=s.tokenSeparators,q=s.validate,Ve=s.renderTag,je=s.tagClassName,se=s.maxTagCount,Ie=s.onInputChange,Ee=s.onKeyDown,we=s.onPaste,$e=s.onChange,_e=s.onFocus,k=s.onBlur,Y=s.onPressEnter,ce=s.onRemove,ae=s.onClear,Ke=s.onClick,Be=nn(s,["className","style","placeholder","error","disabled","readOnly","allowClear","autoFocus","labelInValue","disableInput","animation","saveOnBlur","dragToSort","icon","prefix","suffix","addBefore","addAfter","tokenSeparators","validate","renderTag","tagClassName","maxTagCount","onInputChange","onKeyDown","onPaste","onChange","onFocus","onBlur","onPressEnter","onRemove","onClear","onClick"]),b=u("input-tag"),C="size"in s?s.size:i,Me=c.exports.useRef(),me=c.exports.useRef(null),ze=sr(c.exports.useState(!1),2),ye=ze[0],Oe=ze[1],be=sr(Or([],{defaultValue:"defaultValue"in s?Yr(s.defaultValue):void 0,value:"value"in s?Yr(s.value):void 0}),2),Z=be[0],Ze=be[1],Pe=sr(Or("",{value:s.inputValue}),2),ge=Pe[0],Ue=Pe[1],y=on(Z),S=!!(ne&&!K&&!m);c.exports.useImperativeHandle(n,function(){var d,p;return{blur:(d=Me.current)===null||d===void 0?void 0:d.blur,focus:(p=Me.current)===null||p===void 0?void 0:p.focus}},[]);var I=function(d,p){m||K||("value"in s||Ze(d),$e&&$e(W?d:d.map(function(F){return F.value}),p))},D=function(d,p,F){ce&&ce(d,p,F),I(Wr(Wr([],sr(Z.slice(0,p)),!1),sr(Z.slice(p+1)),!1),"remove")},P=vt(new Map([[nt.code,function(d){if(!d.target.value&&Z.length)for(var p=Z.length-1;p>=0;p--){var F=Z[p];if(F.closable!==!1){D(F,p,d);return}}}]])),M=function(){return yr(a,void 0,void 0,function(){var d,p,F;return br(this,function(X){switch(X.label){case 0:return X.trys.push([0,4,,5]),typeof q!="function"?[3,2]:[4,q(ge,Z)];case 1:return p=X.sent(),[3,3];case 2:p=!0,X.label=3;case 3:return d=p,d&&(I(Z.concat({value:d===!0?ge:d,label:ge}),"add"),Ue("")),[3,5];case 4:return F=X.sent(),console.error(F),[3,5];case 5:return[2]}})})},H=function(d,p,F){var X;F===void 0&&(F=!1);var xe=d.value,de=d.label,Se=!K&&!m&&d.closable!==!1,oe=function(Ye){D(d,p,Ye)};if(Ve)return Ve({value:xe,label:de,closable:Se,onClose:oe},p,Z);var De={closable:Se,onClose:oe,visible:!0,children:wr(de),closeIcon:$==null?void 0:$.removeIcon,__closeIconProps:{onMouseDown:Cr},className:ke(b+"-tag",(X={},X[je]=je,X)),title:typeof de=="string"?de:void 0},Te=typeof se=="object"?se.count:se;if(!F&&typeof Te=="number"&&p>=Te){if(p===Z.length-1){var We=Z.length-Te,Qe=typeof se=="object"?se.render:function(){return er("span",{className:b+"-tag-ellipsis",children:["+",We]})};return x(Et,{children:Qe(We,Z),content:x(Sr,{children:Z.map(function(Ye,lr){return{tagValue:Ye,tagIndex:lr}}).slice(-We).map(function(Ye){var lr=Ye.tagValue,ur=Ye.tagIndex;return H(lr,ur,!0)})})})}return null}return x(Gt,{...ir({},De)})},N=function(d){return yr(a,void 0,void 0,function(){var p,F,X=this;return br(this,function(xe){switch(xe.label){case 0:return me.current=null,qe(le)&&le.length?(p=d.split(new RegExp("["+le.join("")+"]")),p.length>1?(me.current=Date.now(),F=[],[4,Promise.all(p.map(function(de){return yr(X,void 0,void 0,function(){var Se,oe,De;return br(this,function(Te){switch(Te.label){case 0:return de?typeof q!="function"?[3,2]:[4,q(de,Z)]:[3,4];case 1:return De=Te.sent(),[3,3];case 2:De=!0,Te.label=3;case 3:return oe=De,[3,5];case 4:oe=!1,Te.label=5;case 5:return Se=oe,Se&&F.push({value:Se===!0?de:Se,label:de}),[2]}})})}))]):[3,2]):[3,2];case 1:xe.sent(),F.length&&I(Z.concat(F),"add"),xe.label=2;case 2:return[2]}})})},L=G&&!m&&!K&&Z.length?x(at,{size:C,className:b+"-clear-icon",onClick:function(d){var p;d.stopPropagation(),I([],"clear"),ye||(p=Me.current)===null||p===void 0||p.focus(),ae==null||ae()},children:$&&$.clearIcon||x(ot,{})},"clearIcon"):null,B=m||J,fe=Z.map(function(d,p){var F=Z.findIndex(function(xe){return xe.value===d.value})!==p,X=H(d,p);return pe.isValidElement(X)?x(Ur,{timeout:Fr,classNames:"zoomIn",children:X},typeof d.value=="object"?p:F?d.value+"-"+p:d.value):X}).concat(x(Ur,{timeout:Fr,classNames:"zoomIn",children:x(it,{autoComplete:"off",size:C,disabled:B,readOnly:K,ref:Me,autoFocus:re,placeholder:Z.length?"":V,prefixCls:b+"-input",autoFitWidth:{delay:function(){return y.current},pure:!0},onPressEnter:function(d){return yr(a,void 0,void 0,function(){return br(this,function(p){switch(p.label){case 0:return ge&&d.preventDefault(),Y==null||Y(d),[4,M()];case 1:return p.sent(),[2]}})})},onFocus:function(d){!B&&!K&&(Oe(!0),_e==null||_e(d))},onBlur:function(d){return yr(a,void 0,void 0,function(){return br(this,function(p){switch(p.label){case 0:return Oe(!1),k==null||k(d),R?[4,M()]:[3,2];case 1:p.sent(),p.label=2;case 2:return Ue(""),[2]}})})},value:ge,onChange:function(d,p){Ie==null||Ie(d,p),p.nativeEvent.inputType!=="insertFromPaste"&&N(d),me.current?Ue(""):Ue(d)},onKeyDown:function(d){P(d),Ee==null||Ee(d)},onPaste:function(d){we==null||we(d),N(d.clipboardData.getData("text"))}})},an)),he=!xr(_),Ne=!xr(g)||!xr(L),Ge=!xr(Q),Ae=!xr(T),h=Ge||Ae,E=s.status||(ie?"error":void 0),Re=ke(b,(r={},r[b+"-size-"+C]=C,r[b+"-disabled"]=m,r[b+"-"+E]=E,r[b+"-focus"]=ye,r[b+"-readonly"]=K,r[b+"-has-suffix"]=Ne,r[b+"-has-placeholder"]=!Z.length,r[b+"-rtl"]=f,r)),ee={style:z,className:w},Le=x("div",{...ir({},Er(Be,["status","size","defaultValue","value","inputValue"]),h?{}:ee,{className:h?Re:ke(Re,ee.className),onMouseDown:function(d){ye&&Cr(d)},onClick:function(d){var p;!ye&&((p=Me.current)===null||p===void 0||p.focus()),Ke&&Ke(d)}}),children:er("div",{className:b+"-view",children:[he&&x("div",{className:b+"-prefix",onMouseDown:Cr,children:_}),S?x(Xr,{prefixCls:b,animation:te,children:x(tn,{itemWrapperStyle:{display:"inline-block"},direction:"horizontal",onIndexChange:function(d,p){var F=function(X,xe,de){X=X.slice();var Se=xe>de,oe=sr(X.splice(xe,1),1),De=oe[0];return X.splice(Se?de:de-1,0,De),X};I(F(Z,p,d),"sort")},children:fe})},"transitionGroupWithDrag"):x(Xr,{prefixCls:b,animation:te,children:fe}),Ne&&er("div",{className:b+"-suffix",onMouseDown:Cr,children:[L,g]})]})});return h?er("div",{...ir({},ee,{className:ke(b+"-wrapper",(t={},t[b+"-wrapper-rtl"]=f,t),ee.className)}),children:[Ge&&x("div",{className:b+"-addbefore",children:Q}),Le,Ae&&x("div",{className:b+"-addafter",children:T})]}):Le}var pt=pe.forwardRef(un);pt.displayName="InputTag";var sn=pt;function cn(e,n){var r={};return Object.keys(e).forEach(function(t){n.indexOf(t)!==-1&&(r[t]=e[t])}),r}var Je=globalThis&&globalThis.__assign||function(){return Je=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Je.apply(this,arguments)},gt=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r},Jr=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o},cr={BEFORE:0,EDITING:1,NONE:2},Qr="__arco_value_tag_placeholder",fn=pe.forwardRef(function(e,n){var r,t,a=e.id,o=e.style,u=e.className,i=e.size,O=e.bordered,f=e.allowClear,s=e.allowCreate,w=e.status,z=e.loading,V=e.disabled,ie=e.animation,m=e.prefixCls,K=e.suffixIcon,G=e.arrowIcon,re=e.removeIcon,W=e.clearIcon,J=e.placeholder,te=e.renderText,R=e.value,ne=e.inputValue,$=e.popupVisible,_=e.maxTagCount,g=e.isMultiple,Q=e.isEmptyValue,T=e.prefix,le=e.ariaControls,q=e.renderTag,Ve=e.dragToSort,je=e.rtl,se=e.htmlDataAttributes,Ie=e.onKeyDown,Ee=e.onChangeInputValue,we=e.onPaste,$e=e.onClear,_e=e.onFocus,k=e.onBlur,Y=e.onRemoveCheckedItem,ce=e.onSort,ae=gt(e,["id","style","className","size","bordered","allowClear","allowCreate","status","loading","disabled","animation","prefixCls","suffixIcon","arrowIcon","removeIcon","clearIcon","placeholder","renderText","value","inputValue","popupVisible","maxTagCount","isMultiple","isEmptyValue","prefix","ariaControls","renderTag","dragToSort","rtl","htmlDataAttributes","onKeyDown","onChangeInputValue","onPaste","onClear","onFocus","onBlur","onRemoveCheckedItem","onSort"]),Ke=c.exports.useRef(null),Be=c.exports.useRef(null),b=c.exports.useContext(Pr),C=b.size,Me=b.getPrefixCls,me=Jr(c.exports.useState(cr.NONE),2),ze=me[0],ye=me[1],Oe=Jr(c.exports.useState(!1),2),be=Oe[0],Z=Oe[1],Ze=lt(),Pe="showSearch"in e?e.showSearch:g,ge=Pe||s,Ue=i||C,y=be||$,S=He(Pe)&&Pe.retainInputValue,I=!g&&R!==void 0?te(R).text:"",D=function(h){h&&h.preventDefault()},P=function(h){var E=ge?Ke.current:Be.current;E&&(h==="focus"?E.focus():E.blur())},M=function(h,E){ge&&E.target===Be.current||(h==="focus"?(Z(!0),_e&&_e(E)):(Z(!1),k&&k(E)))},H=function(h){if(!(ge&&h.currentTarget===Be.current)){var E=h.keyCode||h.which;E===Mr.code&&h.preventDefault(),Ie&&Ie(h)}};c.exports.useEffect(function(){P($?"focus":"blur"),ge&&ye($?cr.BEFORE:cr.NONE)},[$]),c.exports.useImperativeHandle(n,function(){return{dom:Be.current,focus:P.bind(null,"focus"),blur:P.bind(null,"blur"),getWidth:function(){return Be.current&&Be.current.clientWidth}}});var N="arrowIcon"in e?G===null?null:x("div",{className:m+"-arrow-icon",children:G}):x("div",{className:m+"-arrow-icon",children:x(At,{})}),L=z?x("span",{className:m+"-loading-icon",children:x(Pt,{})}):K?x("span",{className:m+"-suffix-icon",children:K}):e.showSearch&&$?x("div",{className:m+"-search-icon",children:x(Nt,{})}):N,B={paste:we,keyDown:H,focus:function(h){h.stopPropagation(),M("focus",h)},blur:function(h){h.stopPropagation(),M("blur",h)},change:function(h,E){ye(cr.EDITING),Ee&&Ee(h,E)}},fe=function(){var h,E;switch(ze){case cr.BEFORE:E=ne||(S?I:"");break;case cr.EDITING:E=ne||"";break;default:E=I;break}var Re=!!(y&&ge||Q),ee={style:{width:"100%"},value:Re&&typeof E!="object"?E:"",placeholder:ge&&I&&typeof I!="object"?I:J};return ge?(ee.onPaste=B.paste,ee.onKeyDown=B.keyDown,ee.onFocus=B.focus,ee.onBlur=B.blur,ee.onChange=B.change):(ee.tabIndex=-1,ee.style.pointerEvents="none"),er("span",{className:m+"-view-selector",children:[x(it,{...Je({"aria-hidden":!Re||void 0,ref:Ke,disabled:V,className:ke(m+"-view-input",(h={},h[m+"-hidden"]=!Re,h)),autoComplete:"off"},ee)}),Re?x("span",{className:m+"-view-value-mirror",children:wr(ee.value?E:ee.placeholder)}):null,x("span",{style:Re?{display:"none"}:{},className:m+"-view-value",children:wr(Q?ee.placeholder:E)})]})},he=function(){for(var h=Dt(R)?[]:[].concat(R),E=He(_)?_.count:_,Re=He(_)&&ut(_.render)?_.render:function(oe){return"+"+oe+"..."},ee=typeof E=="number"?Math.max(E,0):h.length,Le=[],d=-1,p=h.length-1;p>=0;p--){var F=h[p],X=te(F);p<ee&&Le.unshift({value:F,label:X.text,closable:!X.disabled}),!X.disabled&&d===-1&&(d=p)}var xe=h.length-ee;xe>0&&Le.push({label:Re(xe),closable:!1,value:Qr});var de={onPaste:B.paste,onKeyDown:B.keyDown,onFocus:B.focus,onBlur:B.blur,onInputChange:B.change,onRemove:function(oe,De,Te){var We=Te.keyCode||Te.which;We===nt.code&&d>-1&&(oe=h[d],De=d),_&&Ze(),Y&&Y(oe,De,Te)}},Se={suffix:null,prefix:null,addBefore:null,addAfter:null,allowClear:!1,labelInValue:!1};return x(sn,{...Je({},Se,{className:y?Me("input-tag")+"-focus":"",ref:Ke,disabled:V,dragToSort:Ve,disableInput:!Pe,animation:ie,placeholder:J,value:Le,inputValue:ne,size:Ue,tagClassName:m+"-tag",renderTag:q,icon:{removeIcon:re},onChange:function(oe,De){if(ce&&De==="sort"){var Te=oe.indexOf(Qr);if(Te>-1){var We=oe.slice(0,Te),Qe=oe.slice(Te+1),Ye=h.slice(-xe);ce(We.concat(Ye,Qe))}else ce(oe)}}},de)})},Ne=w||(e.error?"error":void 0),Ge=!V&&!Q&&f?x(at,{size:Ue,className:m+"-clear-icon",onClick:$e,onMouseDown:D,children:W!=null?W:x(ot,{})},"clearIcon"):null,Ae=ke(m,m+"-"+(g?"multiple":"single"),(r={},r[m+"-show-search"]=Pe,r[m+"-open"]=$,r[m+"-size-"+Ue]=Ue,r[m+"-focused"]=y,r[m+"-"+Ne]=Ne,r[m+"-disabled"]=V,r[m+"-no-border"]=!O,r[m+"-rtl"]=je,r),u);return x("div",{...Je({role:"combobox","aria-haspopup":"listbox","aria-autocomplete":"list","aria-expanded":$,"aria-disabled":V,"aria-controls":le},cn(ae,["onClick","onMouseEnter","onMouseLeave"]),se,{ref:Be,tabIndex:V?-1:0,id:a,style:o,className:Ae,onKeyDown:H,onFocus:function(h){!V&&!Ve&&(ge?Ke.current&&Ke.current.focus():M("focus",h))},onBlur:function(h){return M("blur",h)}}),children:er("div",{title:typeof I=="string"?I:void 0,className:ke(m+"-view",(t={},t[m+"-view-with-prefix"]=T,t)),onClick:function(h){return $&&ge&&h.stopPropagation()},children:[T&&x("div",{"aria-hidden":"true",className:ke(m+"-prefix"),onMouseDown:function(h){return be&&D(h)},children:T}),g?he():fe(),er("div",{"aria-hidden":"true",className:m+"-suffix",onMouseDown:function(h){return be&&D(h)},children:[Ge,L]})]})})}),dn=function(e,n){var r,t=e.prefixCls,a=e.id,o=e.style,u=e.className,i=e.addBefore,O=e.rtl,f=e.renderView,s=e.autoWidth,w=gt(e,["prefixCls","id","style","className","addBefore","rtl","renderView","autoWidth"]),z=s?Je({minWidth:0,maxWidth:"100%"},He(s)?s:{}):null,V=c.exports.useRef(null),ie=i!=null,m=!1,K=ie||m,G={id:a,style:Je(Je(Je({},z),{width:z?"auto":void 0}),o),className:u},re=Rt(w);c.exports.useImperativeHandle(n,function(){return V.current});var W=x(fn,{...Je({},e,{ref:V,id:K?void 0:G.id,style:K?void 0:G.style,className:K?void 0:G.className,htmlDataAttributes:K?{}:re})});return typeof f=="function"&&(W=f(W)),K?er("div",{...Je({},re,G,{className:ke(t+"-wrapper",(r={},r[t+"-wrapper-rtl"]=O,r),G.className)}),children:[ie&&x("div",{className:t+"-addbefore",children:i}),W]}):W},ht=pe.forwardRef(dn);ht.displayName="SelectView";var vn=ht;function pn(e){for(var n=0,r=0;r<e.length;r++)e.charCodeAt(r)>127||e.charCodeAt(r)===94?n+=2:n++;return n}var gn=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r},hn="__rc_ghost_item__";function mt(e,n){var r=Math.floor(e*n),t=r/n,a=(e-t)/(1/n);return{index:r,offsetPtg:Number.isNaN(a)?0:a}}function qr(e,n){n===void 0&&(n=!1);var r=Ht.exports.findDOMNode(e),t=0;if(n){var a=window.getComputedStyle(e),o=a.marginTop,u=a.marginBottom;t=Number(o.replace(/\D/g,""))+Number(u.replace(/\D/g,"")),t=isNaN(t)?0:t}return r?r.offsetHeight+t:0}function jr(e,n){return e<0?0:e>n?n:e}function fr(e){var n=e.scrollTop,r=e.scrollHeight,t=e.clientHeight,a=r-t;return a<=0?0:jr(n,a)/a}function Zr(e,n,r){var t=mt(e,n),a=t.index,o=t.offsetPtg,u=Math.ceil(e*r),i=Math.ceil((1-e)*r);return{itemIndex:a,itemOffsetPtg:o,startIndex:Math.max(0,a-u),endIndex:Math.min(n-1,a+i)}}function Ir(e){var n=e.itemHeight,r=e.itemOffsetPtg,t=e.scrollPtg,a=e.clientHeight;return Math.floor(a*t-n*r)}function mn(e){var n=e.scrollTop,r=gn(e,["scrollTop"]);return n+Ir(r)}function yn(e){var n=e.locatedItemRelativeTop,r=e.locatedItemIndex,t=e.compareItemIndex,a=e.startIndex,o=e.endIndex,u=e.getItemKey,i=e.itemElementHeights,O=e.itemHeight,f=n,s=u(t);if(t<=r)for(var w=r;w>=a;w-=1){var z=u(w);if(z===s)break;var V=u(w-1);f-=i[V]||O}else for(var w=r;w<=o;w+=1){var z=u(w);if(z===s)break;f+=i[z]||O}return f}function bn(e){var n=-1,r=0;return e.forEach(function(t,a){var o;if(t=typeof t=="string"?t:(o=t.props)===null||o===void 0?void 0:o.children,typeof t=="string"){var u=pn(t);u>r&&(r=u,n=a)}}),n}function xn(e,n,r,t){var a=r-e,o=n-r,u=Math.min(a,o)*2;if(t<=u){var i=Math.floor(t/2);return t%2?r+i+1:r-i}return a>o?r-(t-o):r+(t-a)}function Cn(e,n,r){var t=e.length,a=n.length,o,u;if(t===0&&a===0)return null;t<a?(o=e,u=n):(o=n,u=e);var i={__EMPTY_ITEM__:!0};function O(ie,m){return ie!==void 0?r(ie,m):i}for(var f=null,s=Math.abs(t-a)!==1,w=0;w<u.length;w+=1){var z=O(o[w],w),V=O(u[w],w);if(z!==V){f=w,s=s||z!==O(u[w+1],w+1);break}}return f===null?null:{index:f,multiple:s}}var vr=globalThis&&globalThis.__assign||function(){return vr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},vr.apply(this,arguments)},In=function(e){var n=e.height,r=e.offset,t=e.children,a=e.outerStyle,o=e.innerStyle,u={},i={display:"flex",flexDirection:"column"};return r!==void 0&&(u=vr({height:n,position:"relative",overflow:"hidden",zIndex:0},a),i=vr(vr(vr({},i),{transform:"translateY("+r+"px)",position:"absolute",left:0,right:0,top:0}),o)),c.exports.createElement("div",{style:u},c.exports.createElement("div",{style:i},t))},et=In,Fe=globalThis&&globalThis.__assign||function(){return Fe=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Fe.apply(this,arguments)},_n=globalThis&&globalThis.__rest||function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r},Kr=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o},On=32,pr="__virtual_item_height_"+Math.random().toFixed(5).slice(2),wn=function(e){var n=lt(),r=e.current;c.exports.useEffect(function(){Object.keys(r).length&&!r[pr]&&(r[pr]=Object.entries(r).reduce(function(t,a,o,u){var i=Kr(a,2),O=i[1],f=t+O;return o===u.length-1?Math.round(f/u.length):f},0),n())},[Object.keys(r).length])},Sn=function(e){var n=c.exports.useRef({}),r=c.exports.useRef(e);return c.exports.useEffect(function(){r.current=e},[e]),e!==r.current&&(n.current={}),function(t,a,o){return n.current.hasOwnProperty(a)||(n.current[a]=e(t,a,o)),n.current[a]}},yt=pe.forwardRef(function(e,n){var r=e.style,t=e.className,a=e.children,o=e.data,u=o===void 0?[]:o,i=e.itemKey,O=e.threshold,f=O===void 0?100:O,s=e.wrapper,w=s===void 0?"div":s,z=e.height,V=z===void 0?"100%":z,ie=e.isStaticItemHeight,m=ie===void 0?!0:ie,K=e.itemHeight,G=e.measureLongestItem,re=e.scrollOptions,W=e.onScroll,J=e.needFiller,te=J===void 0?!0:J,R=e.outerStyle,ne=e.innerStyle,$=e.wrapperChild,_=$===void 0?pe.Fragment:$,g=_n(e,["style","className","children","data","itemKey","threshold","wrapper","height","isStaticItemHeight","itemHeight","measureLongestItem","scrollOptions","onScroll","needFiller","outerStyle","innerStyle","wrapperChild"]),Q=r&&r.maxHeight||V,T=c.exports.useRef({}),le=Kr(c.exports.useState(200),2),q=le[0],Ve=le[1],je=Sn(a);wn(T);var se=u.length,Ie=K||T.current[pr]||On,Ee=kr(Q)?Q:q,we=Math.ceil(Ee/Ie),$e=Ie*se,_e=f!==null&&se>=f&&$e>Ee,k=c.exports.useRef(null),Y=c.exports.useRef(null),ce=c.exports.useRef(!1),ae=c.exports.useRef(_e),Ke=c.exports.useMemo(function(){if(k.current){var y=function(S){return+window.getComputedStyle(k.current)[S].replace(/\D/g,"")};return{top:y("paddingTop"),bottom:y("paddingBottom")}}return{top:0,bottom:0}},[k.current]),Be=Kr(Vt({status:"NONE",startIndex:0,endIndex:0,itemIndex:0,itemOffsetPtg:0,startItemTop:0,scrollTop:0}),2),b=Be[0],C=Be[1],Me=Mt(u)||[],me=kt(),ze=function(y,S){return typeof i=="function"?i(y,S):typeof i=="string"?y[i]:y.key||S},ye=function(y,S){if(S===void 0&&(S=u),y===S.length)return hn;var I=S[y];return I!==void 0?ze(I,y):null},Oe=function(y){return T.current[y]||Ie},be=function(y){for(var S=y.itemIndex,I=y.relativeTop,D=k.current,P=D.scrollHeight,M=D.clientHeight,H=b.scrollTop,N=P-M,L=Number.MAX_VALUE,B=null,fe=null,he=null,Ne=null,Ge=null,Ae=0,h=0;h<N;h++){var E=xn(0,N,H,h),Re=fr({scrollTop:E,scrollHeight:P,clientHeight:M}),ee=Zr(Re,se,we),Le=ee.itemIndex,d=ee.itemOffsetPtg,p=ee.startIndex,F=ee.endIndex;if(p<=S&&S<=F){var X=Ir({itemHeight:Oe(ye(Le)),itemOffsetPtg:d,clientHeight:M,scrollPtg:Re}),xe=yn({locatedItemRelativeTop:X,locatedItemIndex:Le,compareItemIndex:S,startIndex:p,endIndex:F,itemHeight:Ie,getItemKey:ye,itemElementHeights:T.current}),de=Math.abs(xe-I);de<L?(L=de,B=E,fe=Le,he=d,Ne=p,Ge=F,Ae=0):Ae+=1}if(Ae>10)break}B!==null&&(ce.current=!0,k.current.scrollTop=B,C(Fe(Fe({},b),{status:"MEASURE_START",scrollTop:B,itemIndex:fe,itemOffsetPtg:he,startIndex:Ne,endIndex:Ge}))),Y.current=Hr(function(){ce.current=!1})},Z=function(y){var S=k.current,I=S.scrollTop,D=S.clientHeight,P=S.scrollHeight,M=jr(I,P-D),H=fr({scrollTop:M,clientHeight:D,scrollHeight:P}),N=mt(H,se),L=N.index,B=N.offsetPtg;C(Fe(Fe({},b),{scrollTop:M,itemIndex:L,itemOffsetPtg:B})),y&&(W==null||W(y,{index:L}))},Ze=function(y,S){S===void 0&&(S=!1);var I=$e,D=k.current,P=D.scrollTop,M=D.clientHeight,H=jr(P,I-M);if(!(!S&&(H===b.scrollTop||ce.current))){var N=fr({scrollTop:H,clientHeight:M,scrollHeight:I}),L=Zr(N,se,we),B=L.itemIndex,fe=L.itemOffsetPtg,he=L.startIndex,Ne=L.endIndex;C(Fe(Fe({},b),{scrollTop:H,itemIndex:B,itemOffsetPtg:fe,startIndex:he,endIndex:Ne,status:"MEASURE_START"})),y&&(W==null||W(y,{index:B}))}};c.exports.useEffect(function(){return function(){Y.current&&$r(Y.current)}},[]),c.exports.useEffect(function(){k.current&&(me&&(k.current.scrollTop=0),Ze(null,!0))},[we]),c.exports.useEffect(function(){if(!!k.current){var y=null,S=ae.current!==_e?_e?"virtual":"raw":"";if(ae.current=_e,Ee&&Me.length!==u.length){var I=Cn(Me,u,ze);y=I?I.index:null}if(S||_e&&y){var D=k.current.clientHeight,P=Ir({itemHeight:Oe(ye(b.itemIndex,Me)),itemOffsetPtg:b.itemOffsetPtg,scrollPtg:fr({scrollTop:b.scrollTop,scrollHeight:Me.length*Ie,clientHeight:D}),clientHeight:D});if(S==="raw"){for(var M=P,H=0;H<b.itemIndex;H++)M-=Oe(ye(H));k.current.scrollTop=-M,ce.current=!0,Y.current=Hr(function(){ce.current=!1})}else be({itemIndex:b.itemIndex,relativeTop:P})}}},[u,_e]),Lt(function(){if(b.status==="MEASURE_START"&&k.current){for(var y=k.current,S=y.scrollTop,I=y.scrollHeight,D=y.clientHeight,P=fr({scrollTop:S,scrollHeight:I,clientHeight:D}),M=mn({scrollPtg:P,clientHeight:D,scrollTop:S-(Ke.top+Ke.bottom)*P,itemHeight:Oe(ye(b.itemIndex)),itemOffsetPtg:b.itemOffsetPtg}),H=b.itemIndex-1;H>=b.startIndex;H--)M-=Oe(ye(H));C(Fe(Fe({},b),{startItemTop:M,status:"MEASURE_DONE"}))}},[b]),c.exports.useImperativeHandle(n,function(){return{dom:k.current,scrollTo:function(y){Y.current&&$r(Y.current),Y.current=Hr(function(){var S;if(!!k.current){if(typeof y=="number"){k.current.scrollTop=y;return}var I="index"in y?y.index:"key"in y?u.findIndex(function(E,Re){return ze(E,Re)===y.key}):0,D=u[I];if(!!D){var P=typeof y=="object"&&((S=y.options)===null||S===void 0?void 0:S.block)?y.options.block:(re==null?void 0:re.block)||"nearest",M=k.current,H=M.clientHeight,N=M.scrollTop;if(_e&&!m){if(P==="nearest"){var L=b.itemIndex,B=b.itemOffsetPtg;if(Math.abs(L-I)<we){var fe=Ir({itemHeight:Oe(ye(L)),itemOffsetPtg:B,clientHeight:H,scrollPtg:fr(k.current)});if(I<L)for(var he=I;he<L;he++)fe-=Oe(ye(he));else for(var he=L;he<I;he++)fe+=Oe(ye(he));if(fe<0||fe>H)P=fe<0?"start":"end";else return}else P=I<L?"start":"end"}C(Fe(Fe({},b),{startIndex:Math.max(0,I-we),endIndex:Math.min(se-1,I+we)})).then(function(){var E=Oe(ze(D,I));be({itemIndex:I,relativeTop:P==="start"?0:(H-E)/(P==="center"?2:1)})})}else{for(var Ne=Oe(ye(I)),fe=0,he=0;he<I;he++)fe+=Oe(ye(he));var Ge=fe+Ne,Ae=fe+Ne/2;if(Ae>N&&Ae<H+N)return;P==="nearest"&&(fe<N?P="start":Ge>N+H&&(P="end"));var h=H-Ne;k.current.scrollTop=fe-(P==="start"?0:h/(P==="center"?2:1))}}}})}}},[u,Ie,b]);var Pe=function(y,S){return y.map(function(I,D){var P=S+D,M=je(I,P,{style:{},itemIndex:D}),H=ze(I,P);return pe.cloneElement(M,{key:H,ref:function(N){var L=T.current;N&&b.status==="MEASURE_START"&&(!m||L[H]===void 0)&&(m?(L[pr]||(L[pr]=qr(N,!0)),L[H]=L[pr]):L[H]=qr(N,!0))}})})},ge=c.exports.useRef(null);c.exports.useEffect(function(){ge.current=null},[u]);var Ue=function(){if(G){var y=ge.current===null?bn(u):ge.current,S=u[y];return ge.current=y,S?x("div",{style:{height:1,overflow:"hidden",opacity:0},children:je(S,y,{style:{}})}):null}return null};return x(st,{onResize:function(){if(k.current&&!kr(Q)){var y=k.current.clientHeight;Ve(y)}},children:x(w,{...Fe({ref:k,style:Fe(Fe({overflowY:"auto",overflowAnchor:"none"},r),{maxHeight:Q}),className:t,onScroll:_e?Ze:Z},g),children:_e?er(Sr,{children:[x(et,{height:$e,outerStyle:R,innerStyle:ne,offset:b.status==="MEASURE_DONE"?b.startItemTop:0,children:x(_,{children:Pe(u.slice(b.startIndex,b.endIndex+1),b.startIndex)})}),Ue()]}):te?x(et,{height:Ee,outerStyle:R,innerStyle:ne,children:x(_,{children:Pe(u,0)})}):x(_,{children:Pe(u,0)})})})});yt.displayName="VirtualList";var Tn=yt,En=Ft,bt=/[\\^$.*+?()[\]{}|]/g,Pn=RegExp(bt.source);function Nn(e){return e=En(e),e&&Pn.test(e)?e.replace(bt,"\\$&"):e}var An=Nn;function Rn(e){var n=e.nodeList,r=e.pattern,t=e.highlightClassName;if(!r)return n;var a=function(o){return o&&o.props&&typeof o.props.children=="string"?c.exports.cloneElement(o,void 0,x(Dn,{text:o.props.children,keyword:r,highlightClassName:t})):o};return qe(n)?n.map(function(o){return a(o)}):a(n)}function Dn(e){var n=e.text,r=e.keyword,t=e.highlightClassName;if(!r)return x(Sr,{children:n});r.length>1e3&&(r=r.slice(0,1e3));var a=new RegExp("("+An(r)+")","i"),o=n.split(a);return x(Sr,{children:o.map(function(u,i){return a.test(u)?x("span",{className:t,children:u},i):x("span",{children:u},i)})})}var Tr=globalThis&&globalThis.__assign||function(){return Tr=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Tr.apply(this,arguments)};function Hn(e){e&&e.preventDefault()}function _r(e,n){return n?!qe(e)||!e.length:e===void 0}function rt(e,n,r){return r&&(n?e=Array.isArray(e)?e.map(function(t){return He(t)&&"label"in t?t.value:t}):e:e=He(e)&&"label"in e?e.value:e),_r(e,n)?n?Array.isArray(e)?e:[]:void 0:e}function xt(e){return gr(e,"props.isSelectOption")||gr(e,"type.__ARCO_SELECT_OPTION__")}function Ct(e){return gr(e,"props.isSelectOptGroup")||gr(e,"type.__ARCO_SELECT_OPTGROUP__")}function It(e,n,r){var t=e.children,a=e.options,o=e.filterOption,u=n.inputValue,i=u===void 0?"":u,O=n.userCreatedOptions,f=n.userCreatingOption,s=n.prefixCls,w=r===void 0?{}:r,z=w.optionInfoMap,V=z===void 0?new Map:z,ie=w.optionValueList,m=ie===void 0?[]:ie,K=w.customNodeCount,G=K===void 0?0:K,re=!1,W=!1,J=[],te=[],R=function(g){var Q=gr(g,"props.value"),T=gr(g,"props.children");return Q===void 0&&T!==null&&T!==void 0?T.toString():Q},ne=function(g,Q,T){var le=g.label,q=g.value;return!le&&!q&&!Q?(G++,"custom_node_"+G):T?Q||"group_"+le:Q||typeof q+"_"+q||le+"_"+V.size},$=function(g,Q){var T=R(g),le=!0;o===!0?le=T!==void 0&&String(T).toLowerCase().indexOf(i.toLowerCase())!==-1:typeof o=="function"&&(le=!i||o(i,g));var q=V.get(T),Ve=(q==null?void 0:q._origin)==="userCreatedOptions"||(q==null?void 0:q._origin)==="userCreatingOption";if(!q||Ve){"_key"in g.props||(g=pe.cloneElement(g,{_key:ne(g.props,g.key)}));var je=V.size,se=Tr(Tr({child:g},g.props),{value:T,_index:je,_origin:Q,_valid:le});if(V.set(T,se),Ve){var Ie=J.findIndex(function(Ee){var we;return((we=Ee==null?void 0:Ee.props)===null||we===void 0?void 0:we.value)===T});Ie>-1&&(le?J[Ie]=g:J.splice(Ie,1))}else m.push(T),le&&(J.push(g),se.disabled||te.push(je))}typeof g.props.children!="string"&&(W=!0)},_=function(g,Q){Q&&qe(g)&&g.length&&g.forEach(function(T){(jt(T)||kr(T))&&(T={label:T,value:T});var le=pe.createElement(dt,{_key:ne(T),value:T.value,disabled:T.disabled===!0,extra:T.extra},wr(T.label));$(le,Q)})};return f&&_([f],"userCreatingOption"),t&&pe.Children.map(t,function(g){if(Ct(g)){var Q=g.props,T=Q.children,le=Q.options,q=It({children:T,options:le,filterOption:o},{inputValue:i,prefixCls:s},{optionInfoMap:V,optionValueList:m,customNodeCount:G}),Ve=q.childrenList,je=q.optionIndexListForArrowKey,se=q.hasComplexLabelInOptions;Ve.length&&(J.push(pe.cloneElement(g,{children:null,_key:ne(g.props,g.key,!0)})),J=J.concat(Ve),te=te.concat(je),re=!0,W=W||se)}else xt(g)?$(g,"children"):He(g)&&g.props&&J.push(pe.cloneElement(g,{_key:ne(g.props,g.key)}))}),_(a,"options"),_(O,"userCreatedOptions"),{childrenList:Rn({nodeList:J,pattern:i,highlightClassName:s+"-highlight"}),optionInfoMap:V,optionValueList:m,optionIndexListForArrowKey:te,hasOptGroup:re,hasComplexLabelInOptions:W}}var or=globalThis&&globalThis.__assign||function(){return or=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},or.apply(this,arguments)},ar=globalThis&&globalThis.__read||function(e,n){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var t=r.call(e),a,o=[],u;try{for(;(n===void 0||n-- >0)&&!(a=t.next()).done;)o.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(r=t.return)&&r.call(t)}finally{if(u)throw u.error}}return o},Vn=globalThis&&globalThis.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&e[n],t=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Mn=globalThis&&globalThis.__spreadArray||function(e,n,r){if(r||arguments.length===2)for(var t=0,a=n.length,o;t<a;t++)(o||!(t in n))&&(o||(o=Array.prototype.slice.call(n,0,t)),o[t]=n[t]);return e.concat(o||Array.prototype.slice.call(n))},kn={trigger:"click",bordered:!0,filterOption:!0,unmountOnExit:!0,defaultActiveFirstOption:!0},Ln={bottom:4};function Fn(e,n){var r=c.exports.useContext(Pr),t=r.getPrefixCls,a=r.renderEmpty,o=r.componentConfig,u=r.rtl,i=tt(e,kn,o==null?void 0:o.Select),O=i.children,f=i.renderFormat,s=i.defaultActiveFirstOption,w=i.disabled,z=i.unmountOnExit,V=i.notFoundContent,ie=i.showSearch,m=i.tokenSeparators,K=i.options,G=i.filterOption,re=i.labelInValue,W=i.getPopupContainer,J=i.trigger,te=i.triggerElement,R=i.triggerProps,ne=i.dropdownRender,$=i.dropdownMenuStyle,_=i.dropdownMenuClassName,g=i.virtualListProps,Q=i.onChange,T=i.onSelect,le=i.onDeselect,q=i.onClear,Ve=i.onSearch,je=i.onFocus,se=i.onBlur,Ie=i.onPopupScroll,Ee=i.onVisibleChange,we=i.onInputValueChange,$e=i.onPaste,_e=i.onKeyDown,k=i.mode,Y=i.allowCreate;k==="tags"&&(k="multiple",Y=!0);var ce=t("select"),ae=k==="multiple",Ke=ar(c.exports.useState(rt(i.defaultValue,ae,re)),2),Be=Ke[0],b=Ke[1],C="value"in i?rt(i.value,ae,re):Be,Me=ar(Or("",{value:"inputValue"in i?i.inputValue||"":void 0}),3),me=Me[0],ze=Me[1],ye=Me[2],Oe=ar(Or(!1,{defaultValue:i.defaultPopupVisible,value:"popupVisible"in i?i.popupVisible:R&&"popupVisible"in R?R.popupVisible:void 0}),2),be=Oe[0],Z=Oe[1],Ze=ar(c.exports.useState(null),2),Pe=Ze[0],ge=Ze[1],Ue=ar(c.exports.useState([]),2),y=Ue[0],S=Ue[1],I=ar(c.exports.useState(qe(C)?C[0]:C),2),D=I[0],P=I[1],M=c.exports.useMemo(function(){return It({children:O,options:K,filterOption:G},{prefixCls:ce,inputValue:me,userCreatedOptions:y,userCreatingOption:Pe})},[O,K,G,me,Pe,y]),H=M.childrenList,N=M.optionInfoMap,L=M.optionValueList,B=M.optionIndexListForArrowKey,fe=M.hasOptGroup,he=M.hasComplexLabelInOptions,Ne=c.exports.useRef(null),Ge=c.exports.useRef(null),Ae=c.exports.useRef(null),h=c.exports.useRef([]),E=c.exports.useRef(null),Re=c.exports.useRef(me),ee=c.exports.useRef(null),Le=c.exports.useRef(0),d=c.exports.useRef(!1),p=Kt(ce+"-popup-"),F=_r(C,ae),X=c.exports.useMemo(function(){var l;if(s){var v=qe(C)?C[0]:C,A=!F&&((l=N.get(v))===null||l===void 0?void 0:l._valid);return A?v:L[B[0]]}},[C,N,L,B,s,F]),xe=c.exports.useCallback(function(l,v){var A,j=N.get(l);Ne.current&&((A=j==null?void 0:j.child)===null||A===void 0?void 0:A.props)&&Ne.current.scrollTo({key:j.child.props._key,options:v})},[N]),de=c.exports.useCallback(function(l,v){return v===void 0&&(v=!1),He(Y)&&typeof(Y==null?void 0:Y.formatter)=="function"?Y.formatter(l,v):l},[Y]),Se=function(l,v){(l!==Re.current||v!==ee.current)&&(ze(l),Re.current=l,ee.current=v,we&&we(l,v))},oe=function(l){be!==l&&(Z(l),Ee&&Ee(l),R&&R.onVisibleChange&&R.onVisibleChange(l))};c.exports.useEffect(function(){ae?Array.isArray(C)||b(C===void 0?[]:[C]):Array.isArray(C)&&b(C.length===0?void 0:C[0])},[ae,C]),c.exports.useEffect(function(){if(be){P(X);var l=qe(C)?C[0]:C;!F&&N.has(l)&&setTimeout(function(){return xe(l)})}},[be]),c.exports.useEffect(function(){(E.current==="up"||E.current==="down")&&(xe(D),E.current="none")},[D]),c.exports.useEffect(function(){P(X)},[JSON.stringify(H.map(function(l){var v;return(v=l==null?void 0:l.props)===null||v===void 0?void 0:v.value}))]),c.exports.useEffect(function(){h.current=h.current.filter(function(l){return ae?qe(C)&&C.indexOf(l.value)>-1:l.value===C})},[C,ae]),c.exports.useEffect(function(){if(Y){var l=void 0;if(_r(C,ae))l=[];else{var v=Array.isArray(C)?C:[C],A=v.filter(function(U){var ve,Xe=N.get(U)||((ve=h.current.find(function(rr){return rr.value===U}))===null||ve===void 0?void 0:ve.option);return!Xe||Xe._origin==="userCreatingOption"}).map(function(U){return de(U)}),j=y.filter(function(U){var ve=He(U)?U.value:U;return v.indexOf(ve)!==-1});l=j.concat(A)}var ue=function(U){return U.map(function(ve){return He(ve)?ve.value:ve}).toString()};ue(l)!==ue(y)&&S(l)}},[C,Y,ae,de]),c.exports.useEffect(function(){Y&&ge(me&&!N.has(me)?de(me,!0):null)},[me,de]),c.exports.useEffect(function(){var l=ee.current;ye===me&&(l==="manual"||l==="optionListHide")&&Ve&&Ve(me,l)},[me]);var De=c.exports.useCallback(function(l){var v=N.get(l);if(v){var A=h.current.findIndex(function(ue){return ue.value===l});return A>-1?h.current.splice(A,1,{value:l,option:v}):h.current.push({value:l,option:v}),v}var j=h.current.find(function(ue){return ue.value===l});return j&&j.option},[N]),Te=function(l){if(!!B.length){if(D===void 0||!N.has(D))return L[B[0]];var v=N.get(D),A=v._index,j=B.indexOf(A),ue=B.length;return L[B[((l==="up"?j-1:j+1)+ue)%ue]]}},We=function(l,v){v===void 0&&(v=_r(l,ae));var A=l,j=l===void 0?void 0:Array.isArray(l)?l.map(De):De(l);if(re&&!v){var ue=function(U,ve){var Xe,rr;if(ve)return ve.children;var Ce="value"in i?i.value:"defaultValue"in i?i.defaultValue:null;if(Array.isArray(Ce))try{for(var tr=Vn(Ce),nr=tr.next();!nr.done;nr=tr.next()){var hr=nr.value;if(He(hr)&&hr.value===U)return hr.label}}catch(Dr){Xe={error:Dr}}finally{try{nr&&!nr.done&&(rr=tr.return)&&rr.call(tr)}finally{if(Xe)throw Xe.error}}else if(He(Ce)&&Ce.value===U)return Ce.label};Array.isArray(l)?A=l.map(function(U,ve){return{value:U,label:ue(U,j[ve])}}):A={value:l,label:ue(l,j)}}return{option:j,value:A}},Qe=function(l){if(b(l),Q){var v=We(l);Q(v.value,v.option)}},Ye=function(l,v){if(v==="remove"||v==="add"&&N.get(l)){var A=v==="add"?C.concat(l):C.filter(function(U){return U!==l}),j=v==="add"?T:le;if(Qe(A),typeof j=="function"){var ue=We(l,!1);j(ue.value,ue.option)}}},lr=function(l,v){v||(ae?(Ye(l,C.indexOf(l)===-1?"add":"remove"),(!He(ie)||!ie.retainInputValueWhileSelect)&&Se("","optionChecked")):(l!==C&&Qe(l),setTimeout(function(){oe(!1)})))},ur=vt(new Map([[Bt.code,function(){return oe(!1)}],[Mr.code,function(){if(be){var l=N.get(D);l&&lr(D,l.disabled)}else oe(!0)}],[zr.code,function(){return oe(!1)}],[Ut.code,function(){if(be)return E.current="up",P(Te("up")),!1}],[$t.code,function(){if(be)return E.current="down",P(Te("down")),!1}]])),_t=function(){var l,v,A,j=(R==null?void 0:R.autoAlignPopupWidth)===!1&&(!(!((v=R==null?void 0:R.style)===null||v===void 0)&&v.width)||((A=R==null?void 0:R.style)===null||A===void 0?void 0:A.width)==="auto"),ue=j&&he,U="notFoundContent"in i?V:a("Select"),ve=H.length?x(Tn,{...or({id:p,role:"listbox",style:$,className:ke(ce+"-popup-inner",_),ref:Ne,data:H,height:null,isStaticItemHeight:!fe,measureLongestItem:j,itemKey:function(Ce){return Ce.props._key},onMouseDown:Hn,onMouseMove:function(){E.current=null},onScroll:function(Ce){return Ie&&Ie(Ce.target)}},g,{threshold:ue?null:g==null?void 0:g.threshold}),children:function(Ce){var tr;if(Ct(Ce))return pe.createElement(Ce.type,or({},Ce.props,{prefixCls:ce}));if(xt(Ce)){var nr=(tr=Ce.props)===null||tr===void 0?void 0:tr.value,hr=He(Pe)?Pe.value:Pe,Dr=y.map(function(mr){return He(mr)?mr.value:mr}),wt={prefixCls:ce,rtl:u,_valueActive:D,_valueSelect:C,_isMultipleMode:ae,_isUserCreatingOption:Y&&hr===nr,_isUserCreatedOption:Y&&Dr.indexOf(nr)>-1,_onClick:lr,_onMouseEnter:function(mr){E.current===null&&P(mr)},_onMouseLeave:function(){E.current===null&&P(void 0)}};return Ce&&pe.createElement(Ce.type,or({},Ce.props,wt))}return Ce}}):null,Xe=Y&&me,rr=U&&!Xe?x("div",{style:$,className:ke(ce+"-popup-inner",_),children:U}):null;return x("div",{className:ke(ce+"-popup",(l={},l[ce+"-popup-hidden"]=ve===null&&rr===null,l[ce+"-popup-multiple"]=ae,l)),tabIndex:-1,onKeyDown:function(Ce){return ur(Ce)},children:typeof ne=="function"?ne(ve||rr):ve||rr})},Ar=function(l){if(Le.current=null,ae&&qe(m)&&m.length){var v=l.split(new RegExp("["+m.join("")+"]"));if(v.length>1){Le.current=Date.now();var A=v.filter(function(U,ve){return U&&v.indexOf(U)===ve}),j=C.slice(0),ue=!1;A.forEach(function(U){j.indexOf(U)===-1&&(Y||N.get(U))&&(j.push(U),ue=!0)}),ue&&Qe(j)}}return!!Le.current},Ot={onFocus:je,onBlur:function(l){se==null||se(l),!be&&!d.current&&Se("","optionListHide")},onKeyDown:function(l){if(l.target.tagName==="INPUT"&&l.target.value){var v=l.key===zr.key,A=l.key===Mr.key;if(A||v){var j=A?`
`:v?"	":"";Ar(l.target.value+j)&&Se("","tokenSeparator")}}ur(l),_e==null||_e(l)},onChangeInputValue:function(l,v){var A=v.nativeEvent.inputType;A!=="insertFromPaste"&&Ar(l),Le.current?Se("","tokenSeparator"):Se(l,"manual"),!be&&l&&oe(!0)},onPaste:function(l){Ar(l.clipboardData.getData("text")),$e==null||$e(l)},onRemoveCheckedItem:function(l,v,A){A.stopPropagation(),Ye(C[v],"remove")},onClear:function(l){if(l.stopPropagation(),ae){var v=C.filter(function(A){var j=N.get(A);return j&&j.disabled});Qe(v)}else Qe(void 0);Se("","manual"),q==null||q(be)}};c.exports.useImperativeHandle(n,function(){var l;return{dom:(l=Ae.current)===null||l===void 0?void 0:l.dom,focus:function(){Ae.current&&Ae.current.focus()},blur:function(){Ae.current&&Ae.current.blur()},hotkeyHandler:ur,activeOptionValue:D,getOptionInfoByValue:De,getOptionInfoList:function(){return Mn([],ar(N.values()),!1).filter(function(v){return v._valid})},scrollIntoView:xe}},[ur,N,D,De,xe]);var Br=function(l){return x(zt,{...or({ref:function(v){return Ge.current=v},popup:_t,trigger:J,disabled:w,getPopupContainer:W,classNames:"slideDynamicOrigin",autoAlignPopupWidth:!0,popupAlign:Ln,popupVisible:be,unmountOnExit:z,onVisibleChange:oe,__onExit:function(){d.current=!0},__onExited:function(){d.current=!1,Se("","optionListHide")}},Er(R,["popupVisible","onVisibleChange"])),children:l})},Rr=typeof te=="function"?te(We(C)):te;return x(st,{onResize:function(){return Ge.current.updatePopupPosition()},children:Rr!=null?Br(Rr):x(vn,{...or({},i,Ot,{ref:Ae,value:C,inputValue:me,popupVisible:be,rtl:u,prefixCls:ce,allowCreate:!!Y,ariaControls:p,isEmptyValue:F,isMultiple:ae,onSort:Qe,renderText:function(l){var v=De(l),A=l;if(ut(f)){var j=We(l,!1);A=f(j.option||null,j.value)}else{var ue=!1;if(re){var U=i.value||i.defaultValue;if(Array.isArray(U)){var ve=U.find(function(Xe){return He(Xe)&&Xe.value===l});ve&&(A=ve.label,ue=!0)}else He(U)&&(A=U.label,ue=!0)}!ue&&v&&"children"in v&&(A=v.children)}return{text:A,disabled:v&&v.disabled}},renderView:Br})})})}var jn=pe.forwardRef(Fn),Nr=jn;Nr.displayName="Select";Nr.Option=dt;Nr.OptGroup=Jt;var Un=Nr;export{sn as I,Un as S,Tn as V,Ct as a,vn as b,xt as i};
