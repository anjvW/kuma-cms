import{h as m,r as o,aL as d,aM as f,a as h,j as r,aN as x,ab as C,B as F}from"./index.26541455.js";import{T as B}from"./index.bfef9b70.js";import{a}from"./index.7458f231.js";import{C as b}from"./index.a9136dec.js";import{P as g}from"./index.61747b78.js";import"./index.92ae5b65.js";import"./index.ce27d1d8.js";function y(n){return m.post("/api/permission/list",n)}function O(){const[n,u]=o.exports.useState(!0),[l,p]=o.exports.useState([]),[c]=d(f("admin"));return o.exports.useEffect(()=>{p(c.filter(e=>e.name!=="\u6B22\u8FCE\u4F7F\u7528"))},[]),h(b,{children:[r(g,{request:y,columns:[{title:"\u540D\u5B57",dataIndex:"name",search:!0},{title:"\u6743\u9650",width:500,dataIndex:"permission",render(e,s,t){return s.permission?s.permission.split(",").map(i=>r(B,{style:{margin:"0 3px 3px 0 "},children:i},i)):"-"}},{title:"\u64CD\u4F5C",width:"350px",render(e,s,t){return[r(C,{children:r(F,{type:"default",status:"warning",onClick:()=>{u(!0)},children:"\u529F\u80FD\u6743\u9650"})},t)]}}]}),r(x,{visible:n,title:"\u8BBE\u7F6E\u6743\u9650",onCancel:()=>u(!1),children:r(a,{mode:"multiple",children:l.map((e,s)=>r(a.OptGroup,{label:e.name,children:e!=null&&e.children?e.children.map(t=>r(a.Option,{value:t.name},t.key)):r(a.Option,{value:e.name},e.key)},s))})})]})}export{O as default};
