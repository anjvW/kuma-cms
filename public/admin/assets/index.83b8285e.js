import{h as f,ad as u,ac as t,r as n,j as e,B as h,a as r,at as A}from"./index.87488f60.js";import{T as m}from"./index.0641b993.js";import{C}from"./index.979e3255.js";function g(){return f.post("/api/setting",{})}function b(l){return f.post("/api/setting/update",l)}const o=u.TextArea,s=m.TabPane;function _(){const[l]=t.useForm(),[B,c]=n.exports.useState(!1),[E,d]=n.exports.useState(!1);async function p(){c(!0);const a=await g();l.setFieldsValue(a.data),c(!1)}function F(){l.validate().then(async a=>{d(!0);try{const i=await b(a);i.code===0&&A.success(i.message)}catch{}finally{d(!1)}}).catch(a=>{console.log(a)})}return n.exports.useEffect(()=>{p()},[]),e(C,{actions:[e(h,{type:"primary",loading:B,onClick:p,children:"\u5237\u65B0"},"reload"),e(h,{type:"primary",loading:E,onClick:F,children:"\u4FDD\u5B58"},"update")],children:e(t,{form:l,layout:"horizontal",labelCol:{span:2},wrapperCol:{span:8},children:r(m,{children:[r(s,{title:"\u57FA\u7840\u8BBE\u7F6E",children:[e(t.Item,{label:"\u7AD9\u70B9\u540D\u79F0",field:"site_name",children:e(u,{})}),e(t.Item,{label:"\u7AD9\u70B9\u5730\u5740",field:"site_url",children:e(u,{})}),e(t.Item,{label:"\u7AD9\u70B9\u5173\u952E\u8BCD",field:"site_keywords",children:e(u,{})}),e(t.Item,{label:"\u7AD9\u70B9\u63CF\u8FF0",field:"site_description",children:e(o,{autoSize:!0})}),e(t.Item,{label:"\u670D\u52A1\u70ED\u7EBF",field:"service_phone",wrapperCol:{span:4},children:e(u,{})}),e(t.Item,{label:"\u670D\u52A1\u90AE\u7BB1",field:"service_email",wrapperCol:{span:4},rules:[{validator(a,i){/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)||i("\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E")}}],children:e(u,{})}),e(t.Item,{label:"\u7248\u6743",field:"copyright",children:e(u,{})})]},"\u57FA\u7840\u8BBE\u7F6E"),e(s,{title:"\u4E3B\u9898\u8BBE\u7F6E",children:e(t.Item,{label:"\u4E3B\u9898",field:"theme",labelCol:{span:1},wrapperCol:{span:4},children:e(u,{})})},"\u4E3B\u9898\u8BBE\u7F6E"),r(s,{title:"\u5907\u6848\u4FE1\u606F",children:[e(t.Item,{label:"ICP\u5907\u6848",field:"icp",children:e(u,{})}),e(t.Item,{label:"\u516C\u5B89\u5907\u6848",field:"police_record",children:e(u,{})})]},"\u5907\u6848\u4FE1\u606F"),r(s,{title:"\u811A\u672C\u4EE3\u7801",children:[e(t.Item,{label:"\u7EDF\u8BA1\u811A\u672C",field:"statistical_script",wrapperCol:{span:22},children:e(o,{autoSize:!0,style:{minHeight:180}})}),e(t.Item,{label:"\u5BA2\u670D\u811A\u672C",field:"service_script",wrapperCol:{span:22},children:e(o,{autoSize:!0,style:{minHeight:180}})})]},"\u811A\u672C\u4EE3\u7801")]})})})}export{_ as default};
