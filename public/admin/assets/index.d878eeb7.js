import{h as p,a6 as a,aq as t,r,j as e,B as c,a as g,at as B}from"./index.2d5d6f5f.js";import{C as I}from"./index.09381007.js";function b(){return p.post("/api/setting",{})}function y(i){return p.post("/api/setting/update",i)}const d=a.TextArea;function x(){const[i]=t.useForm(),[f,u]=r.exports.useState(!1),[h,n]=r.exports.useState(!1);async function o(){u(!0);const l=await b();i.setFieldsValue(l.data),u(!1)}function m(){i.validate().then(async l=>{n(!0);try{const s=await y(l);s.code===0&&B.success(s.message)}catch{}finally{n(!1)}}).catch(l=>{console.log(l)})}return r.exports.useEffect(()=>{o()},[]),e(I,{actions:[e(c,{type:"primary",loading:f,onClick:o,children:"\u5237\u65B0"},"reload"),e(c,{type:"primary",loading:h,onClick:m,children:"\u4FDD\u5B58"},"update")],children:g(t,{form:i,layout:"horizontal",labelCol:{span:2},wrapperCol:{span:8},children:[e(t.Item,{label:"\u4E3B\u9898",field:"theme",children:e(a,{})}),e(t.Item,{label:"ICP\u5907\u6848",field:"icp",children:e(a,{})}),e(t.Item,{label:"\u7AD9\u70B9",field:"site_url",children:e(a,{})}),e(t.Item,{label:"\u670D\u52A1\u70ED\u7EBF",field:"service_phone",children:e(a,{})}),e(t.Item,{label:"\u670D\u52A1\u90AE\u7BB1",field:"service_email",children:e(a,{})}),e(t.Item,{label:"\u7248\u6743",field:"copyright",children:e(a,{})}),e(t.Item,{label:"\u516C\u5B89\u5907\u6848",field:"police_record",children:e(a,{})}),e(t.Item,{label:"\u7EDF\u8BA1\u811A\u672C",field:"statistical_script",children:e(d,{autoSize:!0})}),e(t.Item,{label:"\u5BA2\u670D\u811A\u672C",field:"service_script",children:e(d,{autoSize:!0})})]})})}export{x as default};
